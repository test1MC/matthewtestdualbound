<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="630" MadCap:lastWidth="624">
    <head>
        <link href="../../Resources/Stylesheets/GuideTables.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h2 class="Heading2" MadCap:autonum="0.1 ">SPO Message Processing Summary</h2>
        <p class="BodyText1">This section explains the message processing that takes place for messages exchanged between a message sender and a message receiver. These messages are initiated in the form of a request for which an acknowledgment response message is returned. The sender stays connected until the receiver sends an acknowledgment response. Depending on connectivity, the actual message vehicle may vary.</p>
        <p class="note" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">Errors are not necessarily processed in the order as shown below. The row number is there to help the reader indicate which error code they may be discussing.</p>
        <table style="mc-table-style: url('../../Resources/Stylesheets/GuideTables.css');margin-left: 0;margin-right: auto;" class="TableStyle-GuideTables" cellspacing="0">
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <thead>
                <tr class="TableStyle-GuideTables-Head-Header1">
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p>Row </p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p>Event</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p>Process</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p>Type of SCRIPT Message</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p>SCRIPT Code</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p>SCRIPT Description Code</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadD-Column1-Header1">
                        <p>Message Text</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>1.0</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p><b>Surescripts receives a message</b>
                        </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body"> <![CDATA[ ]]></td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body"> <![CDATA[ ]]></td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body"> <![CDATA[ ]]></td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body"> <![CDATA[ ]]></td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body"> <![CDATA[ ]]></td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>1.1</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts fails to recognize the sender OR the
 message is malformed.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                        <p>(HTTP 400 Bad Request Error is returned rather than a
 SCRIPT message)</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Bad request.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>1.2</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Sender security credentials are missing.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>900 –Message rejected</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Blank</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Missing authentication info in header. [Additional
 message-specific error specifics]</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>1.3</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Sender security credentials are invalid.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>900 – Message rejected</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Blank</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Authentication failed. Invalid username/password. [Additional message-specific error specifics]</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>1.4</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>The incoming message exceeds Surescripts’ size limit
 of 20MB.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                        <p>(HTTP 500 Internal Server Error is returned rather
 than a SCRIPT message)</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Internal server error.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>1.5</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Any other system-related error which makes it
 impossible for Surescripts to accept the message.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA </p>
                        <p>(HTTP 500 Internal Server Error is returned rather than
 a SCRIPT message)</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>NA</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Internal server error.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.0</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p><b>Surescripts processes the message</b>
                        </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p><b>No acknowledgment is sent to the sender at this
 stage of processing.</b>
                        </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.1</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts determines that the sending system is not
 certified to send this type of message.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>700 – Configuration error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>4030 - Sender not allowed to send this message type.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Sender not authorized</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.2</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts determines that the designated specialty
 pharmacy does not support SPO enrollment.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>700 – Configuration error </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>4040 - Receiver does not support receiving this
 message type.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>The destination pharmacy does not support receipt of
 electronic enrollment.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.3</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts determines that the sender’s provider
 vendor system SPI was not found in the Surescripts directory.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>700 – Configuration error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>4030 - Sender not allowed to send this message type.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Sender ID not in directory</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.4 </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts determines that the pharmacy or NCPDP ID
 was not found in the Surescripts directory.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>700 – Configuration error </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>4030 - Sender not allowed to send this message type.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Pharmacy NCPDP ID not found in directory.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.5</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts determines that the sending provider
 vendor system SPI has not been authorized to send this type of message. (The
 sender’s SPI has not been assigned the SPO service level.)</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>700 – Configuration error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>4030 - Sender not allowed to send this message type.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Sender portal does not support this message type</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.6</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Surescripts fails to recognize the type of message.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>900 – Message rejected</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Unable to recognize incoming data as a supported
 message type.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.7</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Based on the message type, Surescripts determines that
 a syntax error is present.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>900 – Message rejected</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>3000- Does not follow NCPDP standard or implementation
 guide rules.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Invalid syntax. Message does not conform to schema
 validation. [Additional message-specific error specifics]</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>2.8</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Message fails Surescripts business rule validations</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>900 – Message rejected</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body">
                        <p>3000- Does not follow NCPDP standard or implementation
 guide rules.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body">
                        <p>Message fails Surescripts validations. </p>
                        <p><b>Namespace / version validation</b>:</p>
                        <p>DatatypesVersion is invalid [field that is in
 error]&#160; doesn't match expected value v2013101</p>
                        <p>ECLVersion is invalid [field that is in error] doesn't
 match expected value v2013101</p>
                        <p>StructuresVersion is invalid [field that is in error]
 doesn't match expected value v2013101</p>
                        <p>TransactionVersion is invalid [field that is in error]
 doesn't match expected value v2013101</p>
                        <p>TransportVersion is invalid [field that is in error]
 doesn't match expected value v2013101</p>
                        <p>TransactionDomain is invalid [field that is in error]
 doesn't match expected value SCRIPT</p>
                        <p><b>Prescriber LUHN check</b>:</p>
                        <p>Identification/NPI is invalid. Fails LUHN check</p>
                        <p style="font-weight: bold;">Missing PrescriberOrderNumber.</p>
                        <p style="font-weight: bold;">MissingMedicalRecordIdentificationNumberEHR</p>
                        <p> <![CDATA[ ]]></p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body">
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body">
                        <p>2.9</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body">
                        <p>Surescripts experiences a system failure during
 processing.</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body">
                        <p>Error</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body">
                        <p>900 – Message rejected</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body">
                        <p> <![CDATA[ ]]></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyA-Column1-Body">
                        <p>Surescripts system error</p>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>
</html>