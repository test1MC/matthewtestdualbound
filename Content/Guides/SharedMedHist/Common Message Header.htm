<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="6" MadCap:lastHeight="300.3333" MadCap:lastWidth="624">
    <head>
        <MadCap:changeData>
            <MadCap:AddChange MadCap:userName="patrice.kuppe" MadCap:initials="PA" MadCap:id="1" MadCap:timestamp="2016-04-12T10:37:57.7462436-05:00" />
        </MadCap:changeData>
        <link href="../../Resources/Stylesheets/GuideTables.css" rel="stylesheet" MadCap:stylesheetType="table" /><title></title>
    </head>
    <body>
        <h1 class="Heading1" MadCap:autonum="Section 1: ">Common Message Header</h1>
        <p class="BodyText1">This section only applies to participants using XML format. The common message header is not used for participants using the EDIFACT format. Surescripts uses a common message header for all messages. The common message header, also called the XML wrapper, follows the NCPDP SCRIPT standard version 10.6 with one addition; the Sender Software Version, which was added in the NCPDP SCRIPT standard version 10.7. For this implementation guide the digital signature is not used. </p>
        <p class="note" MadCap:changes="1" MadCap:autonum="&lt;b&gt;Note: &lt;/b&gt;">For this implementation the digital signature is not used.</p>
        <p class="BodyText1">In the following diagram, blocks that are solid are mandatory, whereas blocks that have dotted lines are conditional.</p>
        <p class="BodyText1">
            <img src="../../Resources/Images/MedHistAmb/Common Message Header.png" style="visibility: visible;mso-wrap-style: square;width: 392px;height: 815px;" />
        </p>
        <h2 class="Heading2" MadCap:autonum="1.1 "><a name="_Toc445388906"></a>Common Message Header Elements – Description</h2>
        <p class="FigureName" style="margin-top: 6pt;margin-bottom: 0pt;font-family: Arial;">M/C – Mandatory or Conditional</p>
        <table class="TableStyle-GuideTables" style="mc-table-style: url('../../Resources/Stylesheets/GuideTables.css');" cellspacing="0">
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" />
            <col class="TableStyle-GuideTables-Column-Column1" style="width: 569px;" />
            <thead>
                <tr class="TableStyle-GuideTables-Head-Header1">
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p class="TableHeading">M/C</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p class="TableHeading">ELEMENT</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p class="TableHeading">DATA TYPE</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadE-Column1-Header1">
                        <p class="TableHeading">VALIDATIONS</p>
                    </th>
                    <th class="TableStyle-GuideTables-HeadD-Column1-Header1">
                        <p class="TableHeading">COMMENT</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;To&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">Complex Type</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">The identification of the intended receiver of the message. </p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;From&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">Complex Type</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">The identification of the sender of the message.</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;MessageID&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..35M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Each message sent from a participant shall*<sup>106M-</sup><sup>009 </sup>have a unique Message ID.</p>
                        <p class="TableBody">Message IDs should not be reused for 18 months. </p>
                        <p class="TableBody">A minimum set of standards/algorithms should be used when generating message IDs to ensure uniqueness. If possible, participants should utilize Global Unique Identifiers (GUIDs). </p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">D</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;RelatesToMessageID&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..35</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Relates to Message ID.</p>
                        <p class="TableBody">The Message ID shall*<sup>106M-</sup><sup>010</sup> be echoed back in the response to the message that was received. </p>
                        <p class="CommentText">Not used for request and is mandatory for response. </p>
                        <p class="CommentText">M – RxHistoryResponse</p>
                        <p class="TableBody">Not Used – RxHistoryRequest</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;SentTime&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">Da<span style="color: #000000;">te time</span></p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">YYYY-MM-DDTHH:MM:SS.F </p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Date / time of initiation.</p>
                        <p class="TableBody">The local date and time the message was sent.</p>
                        <p class="TableBody">Example: </p>
                        <p class="TableBody">2010-10-01T016:09:04.5 would be October 1, 2010 16 hours, 09 minutes, 04 seconds, 5 fractional seconds</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;Security&gt;&lt;Sender&gt;</p>
                        <p class="TableBody">&lt;SecondaryIdentification&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">Complex Type</p>
                        <p class="TableBody">an..35</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Sender Password </p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;SenderSoftware&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">Complex Type</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Identifies the entity responsible that generated the transaction. Contains the software vendor name, product, and version / release. </p>
                        <p class="TableBody">This was formerly known as AppVersion in routing messages.</p>
                        <p class="TableBody" style="color: #000000;">When receiving messages translated from an older version or from EDIFACT 10.6 the fields will contain "NA translated from another version". </p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;SenderSoftwareDeveloper&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..35</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Identified the entity responsible for the software that generated the transaction. The developer may be a software vendor or, if the software was developed “in-house”, the developer is the entity actually sending the transaction (e.g., a chain). The value transmitted is determined by the SenderSoftwareDeveloper. </p>
                        <p class="TableBody">This was known as VendorName in routing messages.</p>
                        <p class="TableBody">When receiving messages translated from an older version or from EDIFACT 10.6 the fields will contain "NA, translated from another version".</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;SenderSoftwareProduct&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..35</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">The text field that identifies the software developer’s product, as determined by the software developer.</p>
                        <p class="TableBody">This was known as ApplicationName in routing messages.</p>
                        <p class="TableBody">When receiving messages translated from an older version or from EDIFACT 10.6 the fields will contain "NA, translated from another version".</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">M</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;SenderSoftwareVersion Release&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..50</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">The text field that identifies the version and release of the software product, as determined by the software developer.</p>
                        <p class="TableBody">This was known as ApplicationVersion in routing messages.</p>
                        <p class="TableBody">When receiving messages translated from an older version or from EDIFACT 10.6 the fields will contain "NA, translated from another version".</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">C</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;MailBox&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">MailBox Type</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Not used for Medication History</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">C</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;TestMessage&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">n1</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">0-9</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">When sent, allowable values must match platform that message is being sent to. If this field is not sent, then the default is production.</p>
                        <p class="TableBody">Values: </p>
                        <p class="TableBody">1 = Test </p>
                        <p class="TableBody">All other values = Live (Production)</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">C</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;RxReferenceNumber&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..35</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Not used for Medication History</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">C</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;TertiaryIdentifier&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">an..3</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">When Trading Partner is Surescripts, use:</p>
                        <p class="TableBody">Values:</p>
                        <p class="TableBody">FIL = Fill Data</p>
                        <p class="TableBody">If this is blank and trading partner is a payer or PBM, then it is implied it is Claim Data</p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">C</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&lt;PrescriberOrderNumber&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyE-Column1-Body1">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyD-Column1-Body1">
                        <p class="TableBody">Not used for Medication History.</p>
                        <p class="TableBody">The prescription number of the prescribing system is found in repeating drug segment: DRU-080. </p>
                    </td>
                </tr>
                <tr class="TableStyle-GuideTables-Body-Body1">
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body1" style="background-color: #a9a9a9;">
                        <p class="TableBody">X</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body1" style="background-color: #a9a9a9;">
                        <p class="TableBody">&lt;DigitalSignature&gt;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body1" style="background-color: #a9a9a9;">
                        <p class="TableBody">Complex Type</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyB-Column1-Body1" style="background-color: #a9a9a9;">
                        <p class="TableBody">&#160;</p>
                    </td>
                    <td class="TableStyle-GuideTables-BodyA-Column1-Body1" style="background-color: #a9a9a9;">
                        <p class="TableBody">Not used for Medication History</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="BlankPage" style="text-align: left;">&#160;</p>
    </body>
</html>